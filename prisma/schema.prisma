generator client {
  provider = "prisma-client"
  output   = "../src/generated/prisma"
}

datasource db {
  provider = "mysql"
}

model users {
  id         Int       @id @default(autoincrement())
  username   String    @unique(map: "username") @db.VarChar(50)
  password   String    @db.VarChar(255)
  role       String?   @default("member") @db.VarChar(20)
  created_at DateTime? @default(now()) @db.Timestamp(0)
}

model smartlink {
  id      Int    @id @default(autoincrement())
  network String @unique(map: "network") @db.VarChar(50)
  url     String @db.VarChar(255)
  allowed String? @db.VarChar(255)
}

model user_summary {
  id      Int    @id @default(autoincrement())
  user          String   @db.VarChar(255)
  total_click   Int      @default(0)
  total_lead    Int      @default(0)
  total_earning Decimal  @default(0.00) @db.Decimal(10, 2)
  
  created_at    DateTime? @default(now()) @db.DateTime
  
  // Field opsional (YES pada kolom NULL di database)
  created_date  DateTime? @db.Date
  created_hour  String?   @db.VarChar(11)
  created_week  String?   @db.VarChar(11)
  
  // Otomatis terupdate saat record berubah
  updated_at    DateTime? @default(now()) @updatedAt @db.DateTime
}

model clicks {
  id         Int      @id @default(autoincrement())
  user       String   @db.VarChar(255)
  network    String   @db.VarChar(100)
  country    String?  @db.VarChar(10)
  source     String?  @db.Text
  gadget     String?  @db.VarChar(100)
  ip         String?  @db.VarChar(45)
  created_at DateTime @default(now())
}

model live_clicks {
  id         Int      @id @default(autoincrement())
  user       String   @db.VarChar(255)
  network    String   @db.VarChar(100)
  country    String?  @db.VarChar(10)
  source     String?  @db.Text
  gadget     String?  @db.VarChar(100)
  ip         String?  @db.VarChar(45)
  created_at DateTime @default(now()) @db.DateTime
}

model leads {
  id         Int      @id @default(autoincrement())
  userId     String   @db.VarChar(255)
  network    String   @db.VarChar(100)
  earning    Decimal  @default(0.00) @db.Decimal(10, 2)
  country    String?  @db.VarChar(10)
  useragent  String?  @db.Text
  ip         String?  @db.VarChar(45)
  created_at DateTime @default(now()) @db.DateTime
}

model realtime_access {
  id Int @id @default(0)
  password String @db.VarChar(255)
  role String @default("uwong")
}